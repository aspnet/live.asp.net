@using live.asp.net.ViewModels
@using live.asp.net.Models
@model ShowViewModel

@{
    ViewData["Title"] = "ASP.NET Community Standup";
}
@section HeadContent {
    <meta hidden="hidden" id="showId" content="@Model.Show.ProviderId" />
}


<div id="ytPlayerContainer" class="embed-responsive embed-responsive-16by9">
    <div id="ytPlayer" class="embed-responsive-item"></div>
</div>

    
<div class="caption text-center">
    <a href="@Model.Show.Url" title="Watch on YouTube"></a>
    <h3>
        @if (Model.Show.HasTitle)
        {
            <span>@Model.Show.Title</span><br />
        }
        <span class="show-date">@Model.Show.ShowDate.DateTime.ToString("MMM dd, yyyy")</span>
        @if (Model.Show.IsNew)
        {
            <span class="label label-success label-new-show">New</span>
        }
    </h3>
</div>

@if (Model.HasShowDetailDescription)
{
    <div>@Html.Raw(Model.ShowDetails.Description)</div>
}

@if (Model.HasTableOfContents)
{
    <div>
        <h4>Index</h4>
        @foreach(var group in Model.TableOfContentsGroups)
        {
            <h5>@Html.Raw(group.Header)</h5>
            <ul>
                @foreach (var item in group.Items)
                {
                    <li><a href="#" onclick="window.siteJs.videoSeek(event, '@item.PositionAsUrlParameter')">[@item.PositionAsText]</a> @item.Description</li>
                }
            </ul>
        }
    </div>
}

@section Scripts {
    <environment names="Development">
        <script src="~/lib/jquery/dist/jquery.js"></script>
        <script src="~/lib/bootstrap/dist/js/bootstrap.js"></script>
    </environment>
    <environment names="Staging,Production">
        <script src="https://ajax.aspnetcdn.com/ajax/jquery/jquery-2.2.4.min.js"
                asp-fallback-src="~/lib/jquery/dist/jquery.min.js"
                asp-fallback-test="window.jQuery">
        </script>
        <script src="https://ajax.aspnetcdn.com/ajax/bootstrap/3.3.6/bootstrap.min.js"
                asp-fallback-src="~/lib/bootstrap/dist/js/bootstrap.min.js"
                asp-fallback-test="window.jQuery && window.jQuery.fn && window.jQuery.fn.modal">
        </script>
    </environment>
    <cache>
        <environment names="Development">
            <script src="~/js/site.js" inline="true"></script>
            <script src="~/js/home-show.js" inline="true"></script>
        </environment>
        <environment names="Staging,Production">
            <script src="~/js/site.min.js" inline="true"></script>
            <script src="~/js/home-show.min.js" inline="true"></script>
        </environment>
    </cache>
}
